# GitHub Actions CI/CD

## Workflows

### Tests & Coverage (`test.yml`)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥—ã–π Pull Request –∏ push –≤ –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ç–∫–∏ (`main`, `master`, `develop`).

#### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç workflow:

1. **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤** –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–µ—Ä—Å–∏—è—Ö Node.js (18.x, 20.x)
2. **–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞** —Å –ø–æ–º–æ—â—å—é TypeScript
3. **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å coverage** –∏—Å–ø–æ–ª—å–∑—É—è Vitest
4. **–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á—ë—Ç–æ–≤ coverage** –≤ Codecov (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. **–°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤** —Å –æ—Ç—á—ë—Ç–∞–º–∏ coverage

#### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
npm test

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å coverage
npm run test:coverage

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –≤ watch —Ä–µ–∂–∏–º–µ
npm run test:watch
```

#### Coverage –ø–æ—Ä–æ–≥–∏:

- Lines: 70%
- Functions: 70%
- Branches: 70%
- Statements: 70%

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Codecov (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Codecov –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è coverage:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [codecov.io](https://codecov.io)
2. –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω Codecov
4. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç `CODECOV_TOKEN` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
   - Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret
   - Name: `CODECOV_TOKEN`
   - Value: –≤–∞—à —Ç–æ–∫–µ–Ω –∏–∑ Codecov

#### –ü—Ä–æ—Å–º–æ—Ç—Ä coverage –ª–æ–∫–∞–ª—å–Ω–æ:

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ `npm run test:coverage`, –æ—Ç–∫—Ä–æ–π—Ç–µ `coverage/index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—Ç—á—ë—Ç–∞.

#### –û—Ç—á—ë—Ç—ã coverage –≤ PR:

–ù–∞ –∫–∞–∂–¥—ã–π Pull Request:
- ‚úÖ –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ
- üìä Coverage –æ—Ç—á—ë—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- üìà Coverage summary –¥–æ—Å—Ç—É–ø–µ–Ω –≤–æ –≤–∫–ª–∞–¥–∫–µ "Summary" workflow run
